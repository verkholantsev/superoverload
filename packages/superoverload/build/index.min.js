!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).superoverload=r()}(this,(function(){"use strict";var n=/\s([a-zA-Z]+)/;function r(r){if(null===r)return"null";if(void 0===r)return"undefined";var e=Object.prototype.toString.call(r).match(n);if(!Array.isArray(e))throw new Error("Unexpected type of arg ".concat(String(r)));return e[1].toLowerCase()}function e(n){for(var r=[],e=0,t=n.length;e<t;e++){var o=n[e],a=Math.floor(e/2);r[a]=r[a]||[],r[a].push(o)}return r}function t(n){return n.map((function(n,r){return"_".concat(r)})).join(",")}var o=["number","string","array","object","function","regexp","date"].reduce((function(n,r){return n[r]=!0,n}),{});function a(n){return n.filter((function(n){return!o[n]}))}return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];for(var u=o.length%2>0?o.shift():null,c=e(o),f=new Array(c.length),l=new Array(c.length),h=[],s=0;s<c.length;s++){var g=c[s],d=g[0],y=g[1],p=a(d);if(p.length>0)throw new Error('Signature "'.concat(d.join(", "),'" contains unsupported types: "').concat(p.join(", "),'"'));var v=d.join(", ");l[s]=y,d.length>h.length&&(h=d),f[s]="\nif (hashKey === '".concat(v,"') {\n    return fns[").concat(String(s),"].call(this, ").concat(t(d),");\n}")}var w=f.join(" else "),m=t(h),j="\nreturn function overloadedFn(".concat(m,") {\n    var hashKey = '';\n    var len = arguments.length;\n    var args = new Array(len);\n\n    for (var i = 0; i < len; i++) {\n        args[i] = arguments[i];\n    }\n\n    for (var i = 0; i < len; i++) {\n        hashKey += getType(args[i]);\n        if (i !== len - 1) {\n            hashKey += ', ';\n        }\n    }\n    ").concat(w,"\n    ").concat(c.length>0?"else {":"","\n    if (!defaultFn) {\n        throw new Error('No matching function for call with signature \"' + hashKey + '\"');\n    }\n    ").concat(c.length>0?"}":"","\n    return defaultFn.apply(this, args);\n}"),A=new Function("getType, fns, defaultFn",j);return A(r,l,u)}}));
